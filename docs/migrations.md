---
title: Migrations
date: 2018-02-13 14:39:05
tags:
- django
categories:
- 经验
---

### 一、django的migration核心设计
- 它是数据库变化的版本管理工具
- 每次指令会生成一个类似"commit"的版本变化记录
- 官网建议加入git的版本管理中
-

### 二、常见情景
#### 1. 迁移服务器
- 迁移数据库
- 迁移代码
- 运行web应用

#### 2. 部署新服务器
- 备份代码
- 执行"python manage.py migrate"，从文件更新到数据库
- 运行web应用

#### 3. 更新系统版本
- 规律构建版本镜像(打包代码)
- 执行"python manage.py migrate"，从文件更新到数据库
- 运行web应用

独立版本：
1. 独立版本使用自己的数据库


产品的定位：
1. 平台级 - 提供服务，统一管理一个平台和数据
2. 非软件销售 - 不提供独立部署