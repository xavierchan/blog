---
title: 短连接实现方式
toc: true
date: 2019-04-02 19:22:33
tags:
categories:
 - 解决方案
---
### 短链接
字符较少的url地址，称之为短链接。在现实情境中，在手机短信中插入url地址很常见，而短信限制字数，对于携带大量信息的url显然是不可行的，只能对url进行“压缩”

### 分析
既然是短链接，必然域名短，参数少，常见的有：m.pingan.cn/s/AA3SIC，诸如此类。
最近需要实现长链接转链接的工作，其实就是建个两个字段的表，把“号”跟“内容”存下来，第一次请求的时候通过“号”到DB换取“内容”，再让请求重定向，这是当时马上能想到的方案。
后来到网上搜了下，原来正确的做法跟我想的不谋而合，不过别人解析得更为详细，主要有以下几点注意：
1. 短链接，“号”必然短，就是id池有限，怎么处理？
2. 重定向，是用301(永久)还是302(临时)？

### 解决
1. 一般“号”比较常见的就是0-9a-zA-Z了，这里其实就是62进制，假设你的号到5位，就已经可以提供9亿个号了
2. 用302，否则点击统计就无效了




## 参考资料
> - []()
> - []()
