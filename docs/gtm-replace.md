---
title: GTM替代方案
toc: true
date: 2019-04-02 19:00:17
tags:
 - 笔记
categories:
 - 解决方案
---
最近笔者工作上遇到一个问题，因为国内墙的原因，可能会出现[GTM(Google Tag Manager)](https://developers.google.com/tag-manager/)无法完全覆盖(访问不了)，但又必须实现大概的功能，不被墙，于是对他的技术进行了一番思考。

首先，GTM的本质其实就是：通过一个 **ID** 获取到对应的 **容器内容(HTML等)** ，ok，其实一目了然了，不就是写个灵活的HTML标签吗？是的，其实就是这样，GTM只是对他做了解耦，他跟你业务代码无关(是否有关就自行代码层考虑处理了)，将这部分页面内容的管理分离到另外一个管理平台上

于是，简单的我就得出了下列的方案：

##### 方案一：
分离页面，一个html作为一个容器，文件名作为容器名，统一存放在一个文件夹目录下，按照一定的规范命名，清晰明了

优点：简单快速，更新简单
缺点：广告内容会出现在代码中

##### 方案二：
编写一个接口，OSS中建TM专门的目录作为容器存放，接口请求OSS获取对应的文件(容器)

优点：解耦，代码中不需要跟踪带非必要的内容，对开发者拓展性更高
缺点：性能肯定比方案一差一点，毕竟产生了网络请求

备注：以上方案都要注意对容器(页面)的获取，做异常捕获，报错就不显示，确保原系统的稳定性




## 参考资料
> - []()
> - []()
