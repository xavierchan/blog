---
title: password
toc: true
date: 2019-04-02 19:24:41
tags:
categories:
 - 解决方案
---
最近开发直播平台时突然引发一个思考，当时主要是使用react开发一个密码修改的窗口组件，强迫症的迫使下开始纠结细节，在想，究竟密码需要设定怎么样的输入规则来规范用户呢？
总所周知，现在的系统都是存储明文hash后的字符，基本上是固定16位、32位酱紫，所以不存在说节省空间什么的。
一般的密码允许输入的内容大致有
1. 数字
2. 大小写英文
3. 英文字符
4. 空格(甚至连续)
那长度应该设定多少呢？我做了部分的产品调研
- 网易邮箱 - 6~16个字符，区分大小写
- 腾讯qq - 8-16字符，不包含空格，数字、字母、符号至少两种
- 京东 - 6-20字符，数字、字母、符号至少两种
- 谷歌邮箱 - 8个以上字符，数字、字母、符号至少两种
- 阿里云 - 6-20个字符，不包含空格，数字、字母、符号至少两种
从大公司的设计来看，
1. 6-20个字符基本能满足需求
2. 基于安全性，建议数字、字母、符号至少两种

搜索了下，网上说的貌似是历史遗留的问题，以前密码的存储是明文的，会出现注入式bug，比如密码=“1 or 1=1”，
select * from user where username=登录名 and password = 密码，验证就通过了

很多库或框架会自动过滤前后或者某些空格，为了简单设计，其实也没太大必要使用空格




## 参考资料
> - []()
> - []()
