---
title: 邮件服务
toc: true
date: 2019-08-30 09:37:49
tags:
  - 邮件服务
categories:
  - 业务
---

邮件服务，首先我们得清楚最基本的邮件发送

### 邮件服务协议

- SMTP
- POP3
- IMAP

#### SMTP

SMTP，全称是 **Simple Mail Transfer Protocol**，即简单邮件传输协议。它是一组用于从源地址到目的地址传输邮件的规范，通过它来控制邮件的中转方式。SMTP 协议属于 TCP/IP 协议簇，它帮助每台计算机在发送或中转信件时找到下一个目的地。SMTP 服务器就是遵循 SMTP 协议的发送邮件服务器。
　　SMTP 认证，简单地说就是要求必须在提供了账户名和密码之后才可以登录 SMTP 服务器，这就使得那些垃圾邮件的散播者无可乘之机。
　　增加 SMTP 认证的目的是为了使用户避免受到垃圾邮件的侵扰。

#### POP3

POP3，全称是 **Post Office Protocol 3**，即邮局协议的第3个版本，它规定怎样将个人计算机连接到Internet的邮件服务器和下载电子邮件的电子协议。它是因特网电子邮件的第一个离线协议标准，POP3允许用户从服务器上把邮件存储到本地主机（即自己的计算机）上，同时删除保存在邮件服务器上的邮件，而POP3服务器则是遵循POP3协议的接收邮件服务器，用来接收电子邮件的。

#### IMAP

IMAP，全称是 **Internet Mail Access Protocol**，即交互式邮件存取协议，它是跟POP3类似邮件访问标准协议之一。不同的是，开启了IMAP后，您在电子邮件客户端收取的邮件仍然保留在服务器上，同时在客户端上的操作都会反馈到服务器上，如：删除邮件，标记已读等，服务器上的邮件也会做相应的动作。所以无论从浏览器登录邮箱或者客户端软件登录邮箱，看到的邮件以及状态都是一致的。

#### TLS

传输层安全性协议（英语：Transport Layer Security，缩写作TLS），及其前身安全套接层（Secure Sockets Layer，缩写作SSL）是一种安全协议，目的是为互联网通信提供安全及数据完整性保障。网景公司（Netscape）在1994年推出首版网页浏览器，网景导航者时，推出HTTPS协议，以SSL进行加密，这是SSL的起源。IETF将SSL进行标准化，1999年公布第一版TLS标准文件。随后又公布RFC 5246 （2008年8月）与RFC 6176（2011年3月）。在浏览器、邮箱、即时通信、VoIP、网络传真等应用程序中，广泛支持这个协议。主要的网站，如Google、Facebook等也以这个协议来创建安全连线，发送数据。目前已成为互联网上保密通信的工业标准。

综上，所以，**SMTP** 是发邮件，**POP3** 是收邮件，**IMAP** 是管理邮件

### 各大邮件服务商的异同

qq.com
163.com

### 反垃圾邮件协议

### 邮件服务产品

### 关注指标

- 发送量/到达量/未到达量
- 送达率/失败率
- 平均发送耗时
- 服务时间(从发起了服务-完成了服务)

### 邮件服务方案

制定邮件服务方案，我们需要明确当前阶段遇到的问题与瓶颈：

1. 现在邮件使用不统一，有用阿里云的邮件推送，也有用常规的smtp发件
2. 普通smtp发件容易出现拒收或垃圾邮件处理
3. 阿里云邮件推送，限制条件较多：
    1. 额度太少，按信誉度提升，现在日发量最多500(日常发信量不高，提工单也不予提高登录)
    2. 成功率影响较大，如果成功率低，或者发送无效地址过多，会直接影响产品降级，甚至服务无法使用
4. 邮件发送的情况，没有地方可以统一查询，比如一个客户说他没收到邮件，如果用阿里云的DM服务还可以查到，如果是普通smtp的话查找麻烦，无法解释是否发出去了，是延迟，还是说别的异常退信，处理这部分工作比较麻烦；
5. 发送速率、数量、成功/失败率没有统计分析，不知道我们目前邮件发送服务的一个健壮和性能情况
