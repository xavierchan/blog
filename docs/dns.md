---
title: dns
toc: true
date: 2019-04-12 18:34:07
tags:
categories:
---
dnsmasq先去解析hosts文件， 再去解析/etc/dnsmasq.d/下的*.conf文件，并且这些文件的优先级要高于dnsmasq.conf，我们自定义的resolv.dnsmasq.conf中的DNS也被称为上游DNS，这是最后去查询解析的；

如果不想用hosts文件做解析，我们可以在/etc/dnsmasq.conf中加入no-hosts这条语句，这样的话就直接查询上游DNS了，如果我们不想做上游查询，就是不想做正常的解析，我们可以加入no-reslov这条语句。

|类型|目的|
|:---:|:---:|
|A|地址记录，用来指定域名的 IPv4 地址，如果需要将域名指向一个 IP 地址，就需要添加 A 记录。|
|AAAA|用来指定主机名(或域名)对应的 IPv6 地址记录。|
|CNAME|如果需要将域名指向另一个域名，再由另一个域名提供 ip 地址，就需要添加 CNAME 记录。|
|MX|如果需要设置邮箱，让邮箱能够收到邮件，需要添加 MX 记录。|
|NS|域名服务器记录，如果需要把子域名交给其他 DNS 服务器解析，就需要添加 NS 记录。|
|SOA|SOA 这种记录是所有区域性文件中的强制性记录。它必须是一个文件中的第一个记录。|
|TXT|可以写任何东西，长度限制为 255。绝大多数的 TXT记录是用来做 SPF 记录(反垃圾邮件)。|
